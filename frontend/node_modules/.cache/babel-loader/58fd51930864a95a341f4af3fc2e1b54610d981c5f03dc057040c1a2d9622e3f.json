{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\carProject\\\\Ecommerce-main\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport Axios from 'axios';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport HomePage from './components/HomePage/HomePage';\nimport Login from './components/Login/Login';\nimport NavBar from './components/NavBar/NavBar';\nimport ProductDetails from './components/ProductDetails/ProductDetails';\nimport Register from './components/Register/Register';\nimport Cart from \"./components/Cart/Cart\";\nimport { domain } from './env';\nimport { useGlobalState } from './state/provider';\nimport OldOrders from \"./components/OldOrder/OldOrder\";\nimport Order from \"./components/Order/Order\";\nimport OldOrderDetails from \"./components/OldOrderDetails/OldOrderDetails\";\nimport Profile from \"./components/Profile/Profile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [{\n    profile,\n    reloadPage\n  }, dispatch] = useGlobalState();\n  const token = window.localStorage.getItem('token');\n  useEffect(() => {\n    if (token !== null) {\n      const getData = async () => {\n        Axios({\n          method: 'get',\n          url: `${domain}/api/profile/`,\n          headers: {\n            Authorization: `token ${token}`\n          }\n        }).then(res => {\n          let user = res.data['data'];\n          dispatch({\n            type: 'ADD_PROFILE',\n            profile: user\n          });\n        }).catch(e => {\n          console.log(e);\n          dispatch({\n            type: 'ADD_PROFILE',\n            profile: null\n          });\n        });\n      };\n      getData().then().catch();\n    }\n  }, [reloadPage, dispatch, token]);\n  useEffect(() => {\n    if (profile !== null) {\n      const getData = async () => {\n        Axios({\n          method: \"get\",\n          url: `${domain}/api/cart/`,\n          headers: {\n            Authorization: `token ${token}`\n          }\n        }).then(res => {\n          const complete_cart = [];\n          const incomplete_cart = [];\n          res === null || res === void 0 ? void 0 : res.data.forEach(data => {\n            if (data.complete) {\n              complete_cart.push(data);\n            } else {\n              incomplete_cart.push(data);\n            }\n          });\n          dispatch({\n            type: \"ADD_CART_PRODUCT_COMPLETE\",\n            cart_product_complete: complete_cart\n          });\n          dispatch({\n            type: \"ADD_CART_PRODUCT_INCOMPLETE\",\n            cart_product_incomplete: incomplete_cart\n          });\n        });\n      };\n      getData().then().catch();\n    }\n  }, [reloadPage, dispatch, profile, token]);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/product/:id\",\n        component: ProductDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), profile !== null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/profile\",\n          component: Profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/cart\",\n          component: Cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/order\",\n          component: Order\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/oldOrders\",\n          component: OldOrders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/oldorders/:id\",\n          component: OldOrderDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/register\",\n          component: Register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"UEuEz4QKeKQ+mkxmGbrR4e6cCiQ=\", false, function () {\n  return [useGlobalState];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","Axios","BrowserRouter","Switch","Route","HomePage","Login","NavBar","ProductDetails","Register","Cart","domain","useGlobalState","OldOrders","Order","OldOrderDetails","Profile","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","profile","reloadPage","dispatch","token","window","localStorage","getItem","getData","method","url","headers","Authorization","then","res","user","data","type","catch","e","console","log","complete_cart","incomplete_cart","forEach","complete","push","cart_product_complete","cart_product_incomplete","children","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","component","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/carProject/Ecommerce-main/client/src/App.jsx"],"sourcesContent":["import React, {useEffect} from 'react';\nimport Axios from 'axios';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport HomePage from './components/HomePage/HomePage';\nimport Login from './components/Login/Login';\nimport NavBar from './components/NavBar/NavBar';\nimport ProductDetails from './components/ProductDetails/ProductDetails';\nimport Register from './components/Register/Register';\nimport Cart from \"./components/Cart/Cart\";\nimport {domain} from './env';\nimport {useGlobalState} from './state/provider';\nimport OldOrders from \"./components/OldOrder/OldOrder\";\nimport Order from \"./components/Order/Order\";\nimport OldOrderDetails from \"./components/OldOrderDetails/OldOrderDetails\";\nimport Profile from \"./components/Profile/Profile\";\n\nconst App = () => {\n    const [{profile, reloadPage}, dispatch] = useGlobalState();\n    const token = window.localStorage.getItem('token');\n\n    useEffect(() => {\n        if (token !== null) {\n            const getData = async () => {\n                Axios({\n                    method: 'get',\n                    url: `${domain}/api/profile/`,\n                    headers: {\n                        Authorization: `token ${token}`,\n                    },\n                })\n                    .then((res) => {\n                        let user = res.data['data'];\n                        dispatch({\n                            type: 'ADD_PROFILE',\n                            profile: user,\n                        });\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                        dispatch({\n                            type: 'ADD_PROFILE',\n                            profile: null,\n                        });\n                    });\n            };\n            getData().then().catch();\n        }\n    }, [reloadPage, dispatch, token]);\n\n    useEffect(() => {\n        if (profile !== null) {\n            const getData = async () => {\n                Axios({\n                    method: \"get\",\n                    url: `${domain}/api/cart/`,\n                    headers: {\n                        Authorization: `token ${token}`\n                    }\n                }).then(res => {\n                    const complete_cart = []\n                    const incomplete_cart = []\n                    res?.data.forEach(data => {\n                        if (data.complete) {\n                            complete_cart.push(data);\n                        } else {\n                            incomplete_cart.push(data);\n                        }\n                    })\n                    dispatch({\n                        type: \"ADD_CART_PRODUCT_COMPLETE\",\n                        cart_product_complete: complete_cart\n                    })\n                    dispatch({\n                        type: \"ADD_CART_PRODUCT_INCOMPLETE\",\n                        cart_product_incomplete: incomplete_cart\n                    })\n                })\n            }\n            getData().then().catch();\n        }\n    }, [reloadPage, dispatch, profile, token])\n\n    return (\n        <BrowserRouter>\n            <NavBar/>\n            <Switch>\n                <Route exact path=\"/\" component={HomePage}/>\n                <Route exact path=\"/product/:id\" component={ProductDetails}/>\n                {\n                    profile !== null ? (\n                            <>\n                                <Route exact path='/profile' component={Profile} />\n                                <Route exact path='/cart' component={Cart}/>\n                                 <Route exact path='/order' component={Order} />\n                                <Route exact path='/oldOrders' component={OldOrders} />\n                                <Route exact path='/oldorders/:id' component={OldOrderDetails} />\n                            </>\n                        ) :\n                        (\n                            <>\n                                <Route exact path='/login' component={Login}/>\n                                <Route exact path='/register' component={Register}/>\n                            </>\n                        )\n                }\n                <Route exact component={HomePage}/>\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}